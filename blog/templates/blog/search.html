{% extends 'base.html' %}
{% block title %}Search Results - Affiliate Blog{% endblock %}
{% block content %}
<section class="py-16 bg-gray-50 dark:bg-gray-800">
    <div class="container mx-auto px-4">
        <h1 class="text-3xl font-bold mb-8 text-gray-900 dark:text-white">Search Results for "{{ query }}"</h1>
        <!-- Posts -->
        <div class="mb-12">
            <h2 class="text-2xl font-semibold mb-4 text-gray-900 dark:text-white">Posts</h2>
            {% if posts %}
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                {% for post in posts %}
                <article class="bg-white dark:bg-gray-700 rounded-lg shadow-md overflow-hidden hover:shadow-xl transition duration-300 transform hover:scale-105">
                    {% if post.image %}
                    <img src="{{ post.image }}" alt="{{ post.title }}" class="w-full h-48 object-cover">
                    {% else %}
                    <div class="w-full h-48 bg-gray-200 dark:bg-gray-600 flex items-center justify-center">
                        <span class="text-gray-500 dark:text-gray-400">No Image</span>
                    </div>
                    {% endif %}
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">{{ post.title }}</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">{{ post.content|truncatewords:20 }}</p>
                        <a href="{% url 'post-detail' post.id %}" class="text-blue-500 hover:underline font-medium">Read More</a>
                    </div>
                </article>
                {% endfor %}
            </div>
            {% else %}
            <p class="text-gray-600 dark:text-gray-300">No posts found.</p>
            {% endif %}
        </div>
        <!-- Products -->
        <div>
            <h2 class="text-2xl font-semibold mb-4 text-gray-900 dark:text-white">Products</h2>
            {% if products %}
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                {% for product in products %}
                <div class="bg-white dark:bg-gray-700 rounded-lg shadow-md overflow-hidden hover:shadow-xl transition duration-300 transform hover:scale-105">
                    <img src="{{ product.image }}" alt="{{ product.name }}" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-semibold mb-2 text-gray-900 dark:text-white">{{ product.name }}</h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">{{ product.description|truncatewords:15 }}</p>
                        <a href="{{ product.affiliate_link }}" target="_blank" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition duration-300 font-medium">Buy Now</a>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <p class="text-gray-600 dark:text-gray-300">No products found.</p>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}